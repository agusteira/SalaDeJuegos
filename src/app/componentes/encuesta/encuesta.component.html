<div class="container">
    <div class="header">
        <div class="header-content">
            <h2 class="comeback inactive underlineHover" [routerLink]="['/home']">COMEBACK</h2>
            <h1>ENCUESTA</h1>
        </div>
    </div>

    <div class="grid-general" [ngClass]="{'one-column': !mostrarModal, 'two-columns': mostrarModal}">
      <div class="wrapper">
        <div id="formContent">
            <form [formGroup]="form" (ngSubmit)="submit()" class="form">
              
              <!-- Nombre -->
              <div id="nombre">
                <label>Nombre</label><br>
                <input type="text" class="fadeIn second"  formControlName="nombre">
                <ng-container *ngIf="form.controls['nombre'].invalid && form.controls['nombre'].touched">
                  <small class="text-danger">Este campo es obligatorio y debe contener solo letras.</small>
                </ng-container>
              </div>

              <!-- Apellido -->
              <div id="apellido">
                <label>Apellido</label><br>
                <input type="text" class="fadeIn second" formControlName="apellido">
                <ng-container *ngIf="form.controls['apellido'].invalid && form.controls['apellido'].touched">
                  <small class="text-danger">Este campo es obligatorio y debe contener solo letras.</small>
                </ng-container>
              </div>
    
              <!-- Edad -->
              <div id="edad">
                <label>Edad</label><br>
                <input type="number" class="fadeIn third"  formControlName="edad">
                <ng-container *ngIf="form.controls['edad'].invalid && form.controls['edad'].touched">
                  <small class="text-danger">Debe ser mayor de 18 y menor de 99.</small>
                </ng-container>
              </div>
    
              <!-- telefono -->
              <div id="numeroTelefono">
                <label>Numero de telefono</label><br>
                <input type="text" class="fadeIn third" formControlName="numeroTelefono">
                <ng-container *ngIf="form.controls['numeroTelefono'].invalid && form.controls['numeroTelefono'].touched">
                  <small class="text-danger">Debe contener solo números y máximo 10 caracteres.</small>
                </ng-container>
              </div>
              

              

              <!-- juego fav -->
              <div id="pregunta2">
                <label>Seleccione su juego favorito:</label>
                <select formControlName="juegoFavorito">
                  <option value="">Seleccione una opción</option>
                  <option value="ahorcado">Ahorcado</option>
                  <option value="preguntados">Preguntados</option>
                  <option value="wordle">Wordle</option>
                  <option value="mayor-menor">Mayor menor</option>
                </select>
                <ng-container *ngIf="form.controls['juegoFavorito'].invalid && form.controls['juegoFavorito'].touched">
                  <small class="text-danger">Este campo es obligatorio.</small>
                </ng-container>
              </div>

                <!-- estrellas -->
                <div id="puntuacion" class="form-group">
                    <label>Déjenos una puntuación!</label><br>
                    <div class="rating">
                        <input type="radio" formControlName="puntuacion" id="estrella5" value="5"><label for="estrella5" title="5 estrellas">☆</label>
                        <input type="radio" formControlName="puntuacion" id="estrella4" value="4"><label for="estrella4" title="4 estrellas">☆</label>
                        <input type="radio" formControlName="puntuacion" id="estrella3" value="3"><label for="estrella3" title="3 estrellas">☆</label>
                        <input type="radio" formControlName="puntuacion" id="estrella2" value="2"><label for="estrella2" title="2 estrellas">☆</label>
                        <input type="radio" formControlName="puntuacion" id="estrella1" value="1"><label for="estrella1" title="1 estrella">☆</label>
                    </div>
                    <ng-container *ngIf="form.controls['puntuacion'].invalid && form.controls['puntuacion'].touched">
                        <small class="text-danger">Este campo es obligatorio.</small>
                    </ng-container>
                </div>
              
              <!-- Pregunta adicional 3 -->
              <div id="pregunta3">
                <label>Acepto los términos y condiciones* </label>
                <input type="checkbox" formControlName="terminosCondiciones">
                <ng-container *ngIf="form.controls['terminosCondiciones'].invalid && form.controls['terminosCondiciones'].touched">
                  <small class="text-danger">Debes aceptar los términos y condiciones.</small>
                </ng-container>
              </div>

              <input type="submit" class="fadeIn fourth" value="Enviar" [disabled]="form.invalid">
            </form>
            <label>* todos los datos recolectados van a ser usados para diversas investigaciones</label>
        </div>
      </div>
    </div>


    <div *ngIf="mostrarModal" class="modal-overlay">
      <div class="modal-content">
        <h2>Encuesta subida correctamente!</h2>
        <p>Gracias por su tiempo!</p>
        <button (click)="mostrarModal = !mostrarModal" class="btn">Cerrar</button>
      </div>
    </div>
</div>
